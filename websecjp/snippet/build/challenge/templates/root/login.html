{% extends "base.html" %}
{% block title %}Sign In / Sign Up{% endblock %}
{% block body %}
<section class="hero is-primary">
    <div class="hero-body">
        <div class="container">
            <h1 class="title">
                Sign in / Sign up
            </h1>
        </div>
    </div>
</section>
<section class="section">
    <div class="columns is-centered">
        <div class="column is-half">
            {% if message != '' %}
            <article class="message is-danger">
                <div class="message-header">
                    <p>Error</p>
                </div>
                <div class="message-body">
                    {% if message == '0' %}
                    <p>No such user here.</p>
                    {% elif message == '1' %}
                    <p>The username you specified have already been used. Sorry.</p>
                    {% elif message == '2' %}
                    <p>Please fill in all the required fields.</p>
                    {% elif message == '3' %}
                    <p>Username should match with ^[a-z0-9]$ and should have at least 8 characters.</p>
                    {% endif %}
                </div>
            </article>
            {% endif %}
            <form method="POST" action="{{ url_for('root.do_register') }}">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                <div class="field">
                    <label class="label is-small" for="username">Username</label>
                    <p class="control has-icons-left has-icons-right">
                        <input class="input" type="text" placeholder="username" id="username" name="username">
                        <span class="icon is-small is-left">
                            <i class="fas fa-user"></i>
                        </span>
                    </p>
                </div>
                <div class="field">
                    <label class="label is-small" for="password">Password</label>
                    <p class="control has-icons-left">
                        <input class="input" type="password" placeholder="password" name="password" id="password">
                        <span class="icon is-small is-left">
                            <i class="fas fa-lock"></i>
                        </span>
                    </p>
                </div>
                <div class="field">
                    <label class="label is-small" for="email">E-mail (not required for sign-in)</label>
                    <p class="control has-icons-left">
                        <input class="input" type="text" placeholder="sample@example.com" name="email" id="email">
                        <span class="icon is-small is-left">
                            <i class="fas fa-envelope"></i>
                        </span>
                    </p>
                </div>
                <div class="field is-grouped">
                    <p class="control">
                        <a class="button is-primary" id="formButton-login" data-action="{{ url_for('root.do_login') }}">Sign In</a>
                    </p>
                    <p class="control">
                        <a class="button is-primary" id="formButton-register" data-action="{{ url_for('root.do_register')}}">Sign Up</a>
                    </p>
                </div>
            </form>
        </div>
    </div>
</section>
{% endblock %}
